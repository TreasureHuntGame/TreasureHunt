$(function(){function e(){let e=$("#page-wrapper").css("background-color");l.setAttribute("content",e)}function t(e){var t=e.querySelectorAll("a[href]:not([disabled]), div.contnt"),o=t[0],r=t[t.length-1];e.addEventListener("keydown",function(t){var a="Tab"===t.key||9==t.keyCode,i="Escape"===t.key||27==t.keyCorde;if(a&&document.activeElement===e&&r.focus(),i)e.querySelector(".close").click();else if(!a)return;t.shiftKey?document.activeElement===o&&(r.focus(),t.preventDefault()):document.activeElement===r&&(o.focus(),t.preventDefault())})}function o(e){13!=e.which&&32!=e.which||e.target.click()}function r(e,t,o){var r=new Date;r.setTime(r.getTime()+24*o*60*60*1e3);var a="expires="+r.toUTCString(),i="undefined"!=typeof InstallTrigger,n=i?"SameSite=None;secure;":"";document.cookie=e+"="+t+";"+a+";path=/;"+n}function a(e){for(var t=e+"=",o=decodeURIComponent(document.cookie),r=o.split(";"),a=0;a<r.length;a++){for(var i=r[a];" "==i.charAt(0);)i=i.substring(1);if(0==i.indexOf(t))return i.substring(t.length,i.length)}return""}function i(e){if(a(e)){var t="undefined"!=typeof InstallTrigger,o=t?"SameSite=None;secure;":"";document.cookie=e+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;"+o}}function n(e){var t=new RegExp("[?&]"+e+"=([^&#]*)").exec(window.location.search);return null!==t&&(t[1]||0)}$('[data-toggle="tooltip"]').tooltip(),$(".navbar-collapse>.navbar-nav>.nav-item>label").click(function(){$("#collapse-btn").prop("checked",!1)}),$("#cookie-bar").removeClass("noscript"),$("#modal-privacy").removeClass("noscript");const c=[".label-link","#logout","#arquivo","#cookie-yes","#cookie-no","#open-modal-btn","#close-modal","#creative-commons","#link-logo","#voltar-inicio"];c.forEach(e=>{$(e).keydown(e=>{o(e)})});var l=document.querySelector('meta[name="theme-color"]'),s=document.getElementById("cookie-bar");s&&(footer=document.getElementsByTagName("footer"),footer[0].style.padding="0 32px 110px 32px"),$("#cookie-yes").click(function(){r("cookie_notice_accepted","true",30);var e=a("cookie_notice_accepted");if("true"===e){var t=$("#contrast").is(":checked");r("contrast",t?"true":"false",30)}setTimeout(function(){$("#cookie-bar").remove(),$("#modal-privacy").remove(),$("body").removeAttr("style"),footer[0].style.padding="0 32px 10px 32px"},800)}),$("#cookie-no").click(function(){r("cookie_notice_accepted","false",30),i("contrast"),setTimeout(function(){$("#cookie-bar").remove(),$("#modal-privacy").remove(),$("body").removeAttr("style"),footer[0].style.padding="0 32px 10px 32px"},800)}),$("#contrast").change(function(){"true"===a("cookie_notice_accepted")&&($(this).is(":checked")?r("contrast","true",30):r("contrast","false",30)),e()}),"true"===a("contrast")&&($("#contrast").prop("checked",!0),e()),$("#open-modal-btn").click(function(){$("body").addClass("disable-scroll");var e=document.querySelector("#modal-privacy");t(e)}),$("#close-modal").click(function(e){$("body").removeClass("disable-scroll")});var d=n("message");if(0!=d){var u;switch(d){case"user_error":u=$("#usuario");break;case"passwd_error":u=$("#senha");break;case"erro":u=$("#flag-interno");break;case"duplicada":u=$("#id-problema");break;case"formato":u=$("#flag-interno");break;case"id_invalido":u=$("#id-problema")}u.addClass("field-error")}var m="undefined"!=typeof InstallTrigger,f=window.location.href,p="s"!==f.substring(4,5);m&&p&&(window.location.href="https://"+f.substring(7,f.length));var h=["#usuario","#senha","#id-problema","#flag-interno","#arquivo","#table-individual"];for(u of h){switch(u){case"#usuario":$(u).attr("title","Credencial numérica atribuída a você. Precisa ser um número");break;case"#senha":$(u).attr("title","Senha fornecida junto à credencial.");break;case"#id-problema":$(u).attr("title","Número do diretório cujo exercício foi resolvido. Precisa ser um número.");break;case"#flag-interno":$(u).attr("title","Resposta encontrada. Formato: TreasureHunt{texto-aleatório}")}$(u).hover(function(){var e=$(this).attr("title");$(this).attr("tmp_title",e),$(this).attr("title","")},function(){var e=$(this).attr("tmp_title");$(this).attr("title",e)}),$(u).click(function(){var e=$(this).attr("tmp_title");$(this).attr("title",e)})}$(document).keyup(function(e){27===e.which&&($("#usuario").tooltip("hide"),$("#senha").tooltip("hide"),$("#id-problema").tooltip("hide"),$("#flag-interno").tooltip("hide"))});const v=e=>{let t=document.querySelector('link[rel="icon"]');null!==t?t.href=e:(t=document.createElement("link"),t.rel="icon",t.href=e,document.head.appendChild(t))};window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e=>{const t=e.matches?"dark":"light",o=`img/favicon_${t}_tab.png`;v(o)})});